<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="global.css">
    <link rel="stylesheet" href="./index.css">
    <link rel="icon" type="image/x-icon" href="Img/favicon.png">
    <script src="./DPNs.js"></script>
    <script src="./DPNDetails.js"></script>
    <script src="./index.js"></script>
    <title>APPTIV</title>
</head>

<body>
    <img src="./Img/aptivLogo.jfif" class="aptivLogo">
    <p class="title" id="clientsTableTitle">
        Terminals List of Rechecked Monitoring Parameters
    </p>
    <div class="searchBox">
        <input type="text" placeholder="search by DPN" id="searchBox">
        <button class="searchButton" onclick="filterResult()">search</button>
    </div>
    <div class="informationWindow" id="informationWindow">
        <div class="justForSpace" style="height: 20px;">

        </div>
        <div class="backArrowContainer" onclick="hiddeAnfo()">
            <img src="./Img/arrowBack.svg">
        </div>
        <div class="infoAboutProduct" id="infoAboutProduct"></div>
    </div>
    <div class="tableContainer" id="DPNTable">
        <div class="tableHead">
            <div class="cell_1">item</div>
            <div class="cell_2">DPN</div>
            <div class="cell_3">
                OES
                <div class="itemType">
                    <div>
                         4000
                    </div>
                    <div>
                         4100
                    </div>
                    <div>
                         5XXX
                    </div>
                </div>
            </div>
            <div class="cell_4">
                CFA CFA+
                <div class="itemType">
                    <div>
                        721
                    </div>
                    <div>
                        721/1 
                    </div>
                    <div>
                        721/1 
                    </div>
                </div>
            </div>
            <div class="cell_5">
                DOUBLE x
                <div class="itemType">
                    <div>
                        721
                    </div>
                    <div>
                        721/1 
                    </div>
                </div>
            </div>
            <div class="cell_6">
                SLE
                <div class="itemType">
                    <div>
                        SLE
                    </div>
                </div>
            </div>
            <div class="cell_7">
                KISTLER
                <div class="itemType">
                    <div>
                        CC2
                    </div>
                    <div>
                        CC3
                    </div>
                </div>
            </div>
        </div>
        <div id="dataContainer">
        </div>
        <div class="allResult" onclick="allResult()">
            see all
        </div>
        <script>
            let d, t_0, t_1, t_2, t_3, t_4, t_5, t_6, t_7, t_8, t_9, t_10, lastDPN, x;
            x = lastDPN = 0;
            while (x < responseData.length) {
                responseData[x].d == null ? lastDPN = lastDPN : lastDPN = responseData[x].d;
                responseData[x].d != null ? d = responseData[x].d : d = lastDPN;
                t_0 = responseData[x].t_0 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CFM4000')">` : "";
                t_1 = responseData[x].t_1 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CFM4100')">` : "";
                t_2 = responseData[x].t_2 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CFM5100')">` : "";
                t_3 = responseData[x].t_3 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CFA711')">` : "";
                t_4 = responseData[x].t_4 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CFA721')">` : "";
                t_5 = responseData[x].t_5 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CFA722')">` : "";
                t_6 = responseData[x].t_6 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_711')">` : "";
                t_7 = responseData[x].t_7 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_722')">` : "";
                t_8 = responseData[x].t_8 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CC64')">` : "";
                t_9 = responseData[x].t_9 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CC2')">` : "";
                t_10 = responseData[x].t_10 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CC3')">` : "";
                avoidRepetation(responseData[x].i, d, t_0, t_1, t_2, t_3, t_4, t_5, t_6, t_7, t_8, t_9, t_10);
                x++;
            }
            function filterResult() {
                document.getElementById("dataContainer").innerHTML = "";
                var searchVal = document.getElementById("searchBox").value;
                let d, t_0, t_1, t_2, t_3, t_4, t_5, t_6, t_7, t_8, t_9, t_10, lastDPN, x, c;
                x = lastDPN = c = 0;
                while (x < responseData.length) {

                    if (searchVal == responseData[x].d) {
                        c++;
                        responseData[x].d == null ? lastDPN = lastDPN : lastDPN = responseData[x].d;
                        responseData[x].d != null ? d = responseData[x].d : d = lastDPN;
                        t_0 = responseData[x].t_0 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CFM4000')">` : "";
                        t_1 = responseData[x].t_1 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CFM4100')">` : "";
                        t_2 = responseData[x].t_2 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CFM5100')">` : "";
                        t_3 = responseData[x].t_3 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CFA711')">` : "";
                        t_4 = responseData[x].t_4 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CFA721')">` : "";
                        t_5 = responseData[x].t_5 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CFA722')">` : "";
                        t_6 = responseData[x].t_6 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_711')">` : "";
                        t_7 = responseData[x].t_7 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_722')">` : "";
                        t_8 = responseData[x].t_8 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CC64')">` : "";
                        t_9 = responseData[x].t_9 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CC2')">` : "";
                        t_10 = responseData[x].t_10 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CC3')">` : "";
                        avoidRepetation(responseData[x].i, d, t_0, t_1, t_2, t_3, t_4, t_5, t_6, t_7, t_8, t_9, t_10);
                    }
                    x++;
                }
                if (c === 0) {
                    document.getElementById("dataContainer").innerHTML = `
                                <div class="emptyTable">
                                    <img src="./Img/folder_off.svg" alt="folder of">
                                    <p>
                                        0 item ?
                                    </p>
                                </div>
                            `;
                }
                lazyLoadImages();
                lazyLoadDivContent();
            }

            function allResult() {
                document.getElementById("dataContainer").innerHTML = "";
                let d, t_0, t_1, t_2, t_3, t_4, t_5, t_6, t_7, t_8, t_9, t_10, lastDPN, x;
                x = lastDPN = 0;
                while (x < responseData.length) {
                    responseData[x].d == null ? lastDPN = lastDPN : lastDPN = responseData[x].d;
                    responseData[x].d != null ? d = responseData[x].d : d = lastDPN;
                    t_0 = responseData[x].t_0 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CFM4000')">` : "";
                    t_1 = responseData[x].t_1 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CFM4100')">` : "";
                    t_2 = responseData[x].t_2 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CFM5100')">` : "";
                    t_3 = responseData[x].t_3 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CFA711')">` : "";
                    t_4 = responseData[x].t_4 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CFA721')">` : "";
                    t_5 = responseData[x].t_5 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CFA722')">` : "";
                    t_6 = responseData[x].t_6 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_711')">` : "";
                    t_7 = responseData[x].t_7 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_722')">` : "";
                    t_8 = responseData[x].t_8 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CC64')">` : "";
                    t_9 = responseData[x].t_9 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CC2')">` : "";
                    t_10 = responseData[x].t_10 == 1 ? `<img data-src="./Img/done.svg" onclick="getInfo('${d}_CC3')">` : "";
                    avoidRepetation(responseData[x].i, d, t_0, t_1, t_2, t_3, t_4, t_5, t_6, t_7, t_8, t_9, t_10);
                    x++;
                }
                lazyLoadImages();
                lazyLoadDivContent();
            }

            function getInfo(d) {
                document.getElementById("informationWindow").style.display = "block";
                document.getElementById("infoAboutProduct").innerHTML = "";
                var matchDPN = [];
                d1 = "DPN_" + d;
                matchDPN.push(responseDataFile2[d1]);
                if (matchDPN.length == 1 && matchDPN[0] == undefined) {
                    let arr = d1.split('_');
                    if (arr[2] == 'CFM4000') {
                        d2 = arr[0] + '_' + arr[1] + '_CFM4100';
                        matchDPN.push(responseDataFile2[d2]);
                    }
                    else if (arr[2] == 'CFM5100') {
                        d2 = arr[0] + '_' + arr[1] + '_CFM5000';
                        d3 = arr[0] + '_' + arr[1] + '_CPM5000';
                        d4 = arr[0] + '_' + arr[1] + '_CPM5100';
                        d5 = arr[0] + '_' + arr[1] + '_OES';
                        d6 = arr[0] + '_' + arr[1] + '_CPM5000';
                        matchDPN.push(responseDataFile2[d6], responseDataFile2[d2], responseDataFile2[d3], responseDataFile2[d4], responseDataFile2[d5]);
                    }
                    else if (arr[2] == 'CFA711') {
                        d2 = arr[0] + '_' + arr[1] + '_mci711';
                        d16 = arr[0] + '_' + arr[1] + '_CFA 711';
                        d3 = arr[0] + '_' + arr[1] + '_MCI711';
                        d4 = arr[0] + '_' + arr[1] + '_mci721-722';
                        d5 = arr[0] + '_' + arr[1] + '_MCI721-722';
                        d6 = arr[0] + '_' + arr[1] + '_CFA711a';
                        d15 = arr[0] + '_' + arr[1] + '_CFA721';
                        d17 = arr[0] + '_' + arr[1] + '_CFA722';
                        d7 = arr[0] + '_' + arr[1] + '_CFA711_0.5';
                        d18 = arr[0] + '_' + arr[1] + '_CFA711_A-0.5';
                        d8 = arr[0] + '_' + arr[1] + '_CFA711_USCAR21';
                        d9 = arr[0] + '_' + arr[1] + '_0.35_CFA711';
                        d10 = arr[0] + '_' + arr[1] + '_CFA711_rev';
                        d11 = arr[0] + '_' + arr[1] + '_CFA711_rev';
                        d14 = arr[0] + '_' + arr[1] + '_mci711_0,13+0,13';
                        d12 = arr[0] + '_' + arr[1] + '_mci711_0,13+0,13_2';
                        d12 = arr[0] + '_' + arr[1] + '_CC3';
                        d13 = arr[0] + '_' + arr[1] + '_CFA711_2';
                        d19 = arr[0] + '_' + arr[1] + '_711';
                        matchDPN.push(responseDataFile2[d2]
                            , responseDataFile2[d3]
                            , responseDataFile2[d14]
                            , responseDataFile2[d15]
                            , responseDataFile2[d16]
                            , responseDataFile2[d17]
                            , responseDataFile2[d18]
                            , responseDataFile2[d19]
                            , responseDataFile2[d4]
                            , responseDataFile2[d5]
                            , responseDataFile2[d6]
                            , responseDataFile2[d7]
                            , responseDataFile2[d8]
                            , responseDataFile2[d9]
                            , responseDataFile2[d10]
                            , responseDataFile2[d11]
                            , responseDataFile2[d12]
                            , responseDataFile2[d13],);
                    }
                    else if (arr[2] == 'CFA721') {
                        d2 = arr[0] + '_' + arr[1] + '_mci721';
                        d21 = arr[0] + '_' + arr[1] + '_CFA721_Double';
                        d10 = arr[0] + '_' + arr[1] + '_CFA_0.35';
                        d30 = arr[0] + '_' + arr[1] + '_CFA721_0.35';
                        d31 = arr[0] + '_' + arr[1] + '_0.35_CFA721';
                        d3 = arr[0] + '_' + arr[1] + '_MCI721';
                        d29 = arr[0] + '_' + arr[1] + '_462_CFA721';
                        d4 = arr[0] + '_' + arr[1] + '_mci721_Double-x';
                        d4 = arr[0] + '_' + arr[1] + '_MCI721_Double-x';
                        d5 = arr[0] + '_' + arr[1] + '_mci721_Std Crimps';
                        d6 = arr[0] + '_' + arr[1] + '_MCI721_Std Crimps';
                        d7 = arr[0] + '_' + arr[1] + '_mci721-722';
                        d8 = arr[0] + '_' + arr[1] + '_MCI721-722';
                        d32 = arr[0] + '_' + arr[1] + '_722';
                        d35 = arr[0] + '_' + arr[1] + '_722_U';
                        d36 = arr[0] + '_' + arr[1] + '_722_0,08';
                        d34 = arr[0] + '_' + arr[1] + '_721';
                        d33 = arr[0] + '_' + arr[1] + '_752';
                        d9 = arr[0] + '_' + arr[1] + '_CFA 722';
                        d18 = arr[0] + '_' + arr[1] + '_CFA 722_2';
                        d14 = arr[0] + '_' + arr[1] + '_CFA722';
                        d20 = arr[0] + '_' + arr[1] + '_CFA722_0,5';
                        d15 = arr[0] + '_' + arr[1] + '-CFA721';
                        d13 = arr[0] + '_' + arr[1] + '_CFA721_2';
                        d11 = arr[0] + '_' + arr[1] + '_Doublex_CFA722';
                        d12 = arr[0] + '_' + arr[1] + '_MCI721_FLRY-B';
                        d16 = arr[0] + '_' + arr[1] + '_C3170';
                        d17 = arr[0] + '_' + arr[1] + '_CFA721POS';
                        d27 = arr[0] + '_' + arr[1] + '_CFA711';
                        d19 = arr[0] + '_' + arr[1] + '_CFA721-0.5';
                        d22 = arr[0] + '_' + arr[1] + '-(PE227633)_CFA722';
                        d23 = arr[0] + '_' + arr[1] + '-(PE227634)_CFA722';
                        d24 = arr[0] + '_' + arr[1] + '-(PE230574)_CFA722';
                        d25 = arr[0] + '_' + arr[1] + '-(PE230575)_CFA722';
                        d26 = arr[0] + '_' + arr[1] + '-(PE232028)_CFA722';
                        d28 = arr[0] + '_' + arr[1] + '_AGP81X9-0.5';

                        matchDPN.push(responseDataFile2[d2],
                            responseDataFile2[d3],
                            responseDataFile2[d10],
                            responseDataFile2[d11],
                            responseDataFile2[d12],
                            responseDataFile2[d14],
                            responseDataFile2[d15],
                            responseDataFile2[d16],
                            responseDataFile2[d17],
                            responseDataFile2[d18],
                            responseDataFile2[d19],
                            responseDataFile2[d20],
                            responseDataFile2[d21],
                            responseDataFile2[d22],
                            responseDataFile2[d23],
                            responseDataFile2[d24],
                            responseDataFile2[d25],
                            responseDataFile2[d26],
                            responseDataFile2[d27],
                            responseDataFile2[d28],
                            responseDataFile2[d29],
                            responseDataFile2[d30],
                            responseDataFile2[d31],
                            responseDataFile2[d32],
                            responseDataFile2[d33],
                            responseDataFile2[d34],
                            responseDataFile2[d35],
                            responseDataFile2[d36],
                            responseDataFile2[d4],
                            responseDataFile2[d5],
                            responseDataFile2[d6],
                            responseDataFile2[d7],
                            responseDataFile2[d8],
                            responseDataFile2[d13],);
                    }
                    else if (arr[2] == 'CFA722') {
                        d2 = arr[0] + '_' + arr[1] + '-(PE227633)_CFA722+';
                        d3 = arr[0] + '_' + arr[1] + '-(PE227634)_CFA722+';
                        d4 = arr[0] + '_' + arr[1] + '-(PE230574)_CFA722+';
                        d4 = arr[0] + '_' + arr[1] + '-(PE230575)_CFA722+';
                        d5 = arr[0] + '_' + arr[1] + '-(PE232028)_CFA722+';

                        matchDPN.push(responseDataFile2[d2],
                            responseDataFile2[d3],
                            responseDataFile2[d4],
                            responseDataFile2[d5],
                        );

                    }
                    else if (arr[2] == '711') {
                        d2 = arr[0] + '_' + arr[1] + '_CFA711';
                        d3 = arr[0] + '_' + arr[1] + '_mci711_0,13+0,13';
                        matchDPN.push(responseDataFile2[d2],
                            responseDataFile2[d3],
                        );

                    }
                    else if (arr[2] == '722') {
                        d2 = arr[0] + '_' + arr[1] + '_0,13_CFA721';
                        d3 = arr[0] + '_' + arr[1] + '_Dublex_CFA721';
                        d4 = arr[0] + '_' + arr[1] + '_mci721_Double-x';
                        d9 = arr[0] + '_' + arr[1] + '_MCI721_Double-x';
                        d10 = arr[0] + '_' + arr[1] + '_CFA721_Double-x';
                        d8 = arr[0] + '_' + arr[1] + '_CFA721doublex';
                        d5 = arr[0] + '_' + arr[1] + '_Double-x';
                        d6 = arr[0] + '_' + arr[1] + '_CFA721';
                        d7 = arr[0] + '_' + arr[1] + '_Double-x_CFA721';
                        matchDPN.push(responseDataFile2[d2],
                            responseDataFile2[d3],
                            responseDataFile2[d4],
                            responseDataFile2[d5],
                            responseDataFile2[d6],
                            responseDataFile2[d7],
                            responseDataFile2[d8],
                            responseDataFile2[d9],
                            responseDataFile2[d10],
                        );
                    }
                }
                matchDPN.forEach(element => {
                    if (element != undefined) {
                        element.forEach(subElement => {
                            keys = Object.keys(subElement)
                            if (keys.length == 1) {
                                document.getElementById("infoAboutProduct").innerHTML += `
                                            <div class="element1">
                                                ${subElement[keys[0]]} &nbsp;
                                            </div>
                                        `;
                            }
                            else if (keys.length == 2) {
                                document.getElementById("infoAboutProduct").innerHTML += `
                                            <div class="element1">
                                                ${subElement[keys[0]]} &nbsp; ${subElement[keys[1]]} &nbsp; 
                                            </div>
                                        `;
                            }
                            else if (keys.length == 3) {
                                document.getElementById("infoAboutProduct").innerHTML += `
                                            <div class="element1">
                                                ${subElement[keys[0]]} &nbsp; ${subElement[keys[1]]} &nbsp; ${subElement[keys[2]]} &nbsp;
                                            </div>
                                        `;
                            }
                            else if (keys.length == 4) {
                                document.getElementById("infoAboutProduct").innerHTML += `
                                            <div class="element1">
                                                ${subElement[keys[0]]} &nbsp; ${subElement[keys[1]]} &nbsp; ${subElement[keys[2]]} &nbsp;${subElement[keys[3]]} &nbsp;
                                            </div>
                                        `;
                            }
                        });
                    }
                });
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            }
            function hiddeAnfo() {
                document.getElementById("informationWindow").style.display = 'none';
            }
            function lazyLoadDivContent() {
                const divs = document.querySelectorAll('.lazy-load-div');

                const observer = new IntersectionObserver(entries => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const div = entry.target;
                            const content = div.getAttribute('data-content');
                            if (content) {
                                div.innerHTML = content;
                                div.removeAttribute('data-content');
                                observer.unobserve(div);
                            }
                        }
                    });
                });

                divs.forEach(div => {
                    observer.observe(div);
                });
            }

            document.addEventListener('DOMContentLoaded', lazyLoadDivContent);
            function lazyLoadImages() {
                const images = document.querySelectorAll('img[data-src]');

                images.forEach(img => {
                    img.src = img.dataset.src;
                    img.removeAttribute('data-src');
                });
            }

            document.addEventListener('DOMContentLoaded', lazyLoadImages);
        </script>
    </div>
    <style>
        footer{
            width: 100%;
            margin-top: 50px;
            font-size: 18px;
            color: black;
            text-align: center;
            margin-bottom: 50px;
        }
        footer>div{
            height: 50px;
        }
    </style>
    <footer>
        by MOSTAFA HAYDAR 2023
        <div>

        </div>
    </footer>
</body>

</html>